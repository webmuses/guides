<!doctype html> 
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Rails Girls on Engine Yard - Rails Girls</title>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="/js/prefixfree.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="/js/jquery.cookie.js"></script>
    <script src="/js/guides.js"></script>
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="/css/code.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/favicon.png" rel="shortcut icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <header>
      <div class="container">
        <a class="span3" href="/" id="logo">
          <img alt="Rails Girls Guides" src="/images/railsgirls-guides.png" />
        </a>
        <nav></nav>
      </div>
    </header>
    <article class="container">
      <div class="span10">
        <h1 id='put_your_app_online_with_engine_yard'>Put Your App Online With Engine Yard</h1>

<p><em>Created by Mary Jenn, <a href='https://twitter.com/mfjenn'>@mfjenn</a></em></p>

<h4 id='ensure_youre_using_postgres_for_your_database'>Ensure You&#8217;re Using PostGres for Your Database</h4>

<p>You&#8217;ll need to get your database to work on Engine Yard, which uses a different database than the Rails default. Please change the following in the Gemfile:</p>

<pre><code>	gem &#39;sqlite3&#39;</code></pre>

<p>to</p>

<pre><code>	group :development do
		gem &#39;sqlite3&#39;
	end


	group :production do
		gem &#39;pg&#39;
	end</code></pre>

<p>Run <code>bundle install --without production</code> to setup your dependencies.</p>

<h4 id='version_control_systems'>Version Control Systems</h4>

<p>You need to add your app to your Git repository. You can do this by running the following in the terminal:</p>

<blockquote>
<p><code>git init</code></p>
</blockquote>

<blockquote>
<p><code>git add .</code></p>
</blockquote>

<blockquote>
<p><code>git commit -m &quot;initial commit&quot;</code></p>
</blockquote>

<p><strong>COACH</strong>: This would be a good time to talk about version control systems and git.</p>

<h3 id='be_sure_to_have_a_rails_application_in_a_repository_on_github'>Be Sure to Have a Rails Application in a Repository on Github</h3>

<p>You will need to have a GitHub account and a repo we can pull an app from. Follow these directions on <a href='https://help.github.com/articles/create-a-repo'>GitHub</a> to create a repo and push your app to it. If you do not have a working Rails application, you can fork <a href='https://github.com/engineyard/todo'>Engine Yard&#8217;s sample todo app</a> to your own repo. A coach can walk you through this if you need help.</p>

<h3 id='sign_up_for_a_free_trial_engine_yard_account'>Sign up for a Free Trial Engine Yard Account</h3>

<p>Go to Engine Yard&#8217;s <a href='https://www.engineyard.com/'>Website</a> and click on &#8220;Ruby&#8221; to sign up for your Free 500 Hour Trial. The sign up will send you a confirmation email, so go check your email, click on the link and sign in to your account. Click on the link under &#8220;Your available applications&#8221; that says &#8220;Engine Yard Cloud&#8221;. This will take you to your dashboard.</p>

<h3 id='create_your_engine_yard_cloud_account'>Create your Engine Yard Cloud account</h3>

<ol>
<li>
<p>Choose a name for your account. We suggest picking something relevant to who you are, either as a developer, or as an organization if you will be having collaborators. Click the button &#8220;Start Trial&#8221;</p>
</li>

<li>
<p>Feel free to explore what is in the drop downs, but let&#8217;s go with the defaults for now, since they are in line with a basic Rails app.</p>
</li>

<li>
<p>In the box labeled &#8220;Git Repository URI&#8221;, paste the URI from your Github repo. Be sure to use the URI from the SSH version of your application. HINT: The format should be the same as the placeholder text on your Engine Yard application page (or like this: &#8220;git@github.com:mfjenn/blogotron.git&#8221;)</p>
</li>
</ol>

<h3 id='putting_your_deploy_key_in_place'>Putting Your Deploy Key in Place</h3>

<p>You should now be on a page that says &#8220;Allow Engine Yard access to private repository&#8221;.</p>

<ol>
<li>Copy the block of text in the box and go to your GitHub settings page.</li>

<li>Go to the SSH page</li>

<li>Click on the button that says &#8220;add a key&#8221;</li>

<li>Paste the block of text from your Engine Yard page here. Save it</li>

<li>Go back to your Engine Yard Page and Click the button that says, &#8220;My deploy key is in place&#8221;.</li>
</ol>

<p><strong>COACH</strong>: Talk about the difference between private and public repos and when to use either.</p>

<h3 id='creating_and_configuring_your_environment'>Creating and Configuring Your Environment</h3>

<p>Once you click the &#8220;My deploy key is in place&#8221; button, you will be taken to a page that says, &#8220;Create New Environment for (Your Account Name) App&#8221;. It is here where we will configure your application. Feel free to explore all the options in the drop downs, but let&#8217;s use the defaults for now. You do not need to set a domain name. * Click the button that says, &#8220;Create Environment&#8221;.</p>

<h4 id='environment_setup'>Environment Setup</h4>

<p>On this page, let&#8217;s select the staging configuration. * Click &#8220;Boot This Configuration&#8221;. You will go to a new page where you see several status bars moving. Our Platform is provisioning your instances. We need to wait till these turn to green dots. This usually takes about 10 minutes, so does anyone need to take a break? It&#8217;s a good time to go grab some water or a coffee.</p>

<p><strong>COACH</strong>: Talk about Staging vs. Production, and why it&#8217;s important to have replicas. Talk about what is a master &amp; Slave. How does Engine Yard&#8217;s Failover work? Why is that important?</p>

<h4 id='deploying_your_application'>Deploying Your Application</h4>

<ol>
<li>
<p>Once all of the lights are green, click &#8220;Deploy&#8221;.</p>
</li>

<li>
<p>Once you see the phrase &#8220;YOUR NAME successfully deployed HEAD&#8221; you will know it has been deployed! Congratulations!</p>
</li>

<li>
<p>Click on the link that says &#8220;View your application&#8221; to visit your application online.</p>
</li>

<li>
<p>If you get a red notification that your deploy failed, we just have some debugging to do. Raise your hand and a coach can come over to to help.</p>

<h4 id='stopping_your_instances_to_save_your_hours'>Stopping Your Instances to Save Your Hours</h4>
</li>
</ol>

<p>Once you&#8217;ve got your app up &amp; running, be sure to click the &#8220;stop&#8221; button to stop the instances so that your don&#8217;t burn through all of your hours. You can always start them again.</p>

<h3 id='additional_resources'>Additional Resources</h3>

<ul>
<li>
<p><a href='https://support.cloud.engineyard.com/entries/21009937-Video-Tutorial-Set-up-an-Account-and-Deploy-an-Application'>A video tutorial</a></p>
</li>

<li>
<p><a href='https://support.cloud.engineyard.com/entries/20996751-Tutorial-How-to-Deploy-the-ToDo-Application-on-a-Trial-Account'>Another Tutorial From the Engine Yard Site</a></p>
</li>
</ul>
      </div>
    </article>
    <footer>
      <p>
        This work is licensed under a
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 License</a>
      </p>
      <p>
        <a href="http://railsgirls.com">Rails Girls</a>
        &middot; Crafted with excitement from Helsinki, Finland &middot; Follow us on
        <a href="http://twitter.com/railsgirls">Twitter</a>
        and
        <a href="https://www.facebook.com/railsgirls">Facebook</a>
      </p>
    </footer>
    <script type="text/javascript">
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(["_setAccount", "UA-19631067-3"]);
        _gaq.push(["_trackPageview"]);

        (function() {
          var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
          ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
          var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
  </body>
</html>
